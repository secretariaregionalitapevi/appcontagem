<!DOCTYPE html>
<html lang="pt-BR">
    
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAC | Sistema de Administração de Cotia</title>

    {% include 'header.html' %}

    
    <!-- jQuery (deve ser o primeiro) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- JVectorMap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/jvectormap/2.0.5/jquery-jvectormap.css" rel="stylesheet">
    
    <!-- JVectorMap JS (core e mapa mundial) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jvectormap/2.0.5/jquery-jvectormap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jvectormap/2.0.5/jquery-jvectormap-world-mill.js"></script>
    
    <!-- Outras bibliotecas -->
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Flag Icons -->
    <link href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@6.6.6/css/flag-icons.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <style>
        /* (remover do <style> do topo e do final do arquivo qualquer bloco para .modal, .modal-backdrop, etc) */
    </style>
    
<body>

    <div id="wrapper">

        <!-- Sidenav Menu Start -->
        {% include 'sidenav.html' %}
        <!-- Sidenav Menu End -->
         

        <div id="page-wrapper" class="gray-bg">

            <!-- Topbar -->
            
            {% include 'topbar.html' %} 
    
        <div class="wrapper wrapper-content">
            <div class="row">
                <div class="col-lg-3">
                    <div class="widget bg-light">
                        <div class="row">
                            <div class="col-4 text-center">
                                <i class="fa fa-user fa-5x"></i>
                            </div>
                            <div class="col-8 text-end">
                                <span> USUÁRIOS CADASTRADOS </span>
                                <h2 class="font-bold">196</h2>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="widget style1 text-bg-primary">
                        <div class="row">
                            <div class="col-4">
                                <i class="fa fa-house fa-5x"></i>
                            </div>
                            <div class="col-8 text-end">
                                <span> IGREJAS COM CADASTRO </span>
                                <h2 class="text-white">65</h2>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="widget style1 text-bg-info">
                        <div class="row">
                            <div class="col-4">
                                <i class="fa fa-music fa-5x"></i>
                            </div>
                            <div class="col-8 text-end">
                                <span> TODOS QUE TOCAM </span>
                                <h2 class="text-white">2102</h2>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="widget style1 text-bg-warning">
                        <div class="row">
                            <div class="col-4">
                                <i class="fa fa-users fa-5x"></i>
                            </div>
                            <div class="col-8 text-end">
                                <span> CANDIDATOS (AS) </span>
                                <h2 class="text-white">797</h2>
                            </div>
                        </div>
                    </div>
                </div>                
            </div>          
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox">
                        <div class="ibox-title">
                            <h5>Evolução Musical na Região</h5>
                            <div class="ibox-tools">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-xs btn-white active">Hoje</button>
                                    <button type="button" class="btn btn-xs btn-white">Mensal</button>
                                    <button type="button" class="btn btn-xs btn-white">Anual</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="ibox-content">
                            <div class="row">
                                <div class="col-lg-9 col-12">
                                    <div class="row">
                                        <div class="col-lg-12 col-12">       
                                          <div id="plotly-chart" style="width: 100%; max-width: 100%; height: 280px;"></div>
                                        </div>
                                    </div>
                                </div>                                
                                <div class="col-lg-3">
                                    <ul class="stat-list my-3">
                                        <li class="mb-4">
                                            <h2 class="m-0 fw-light">544</h2>
                                            <small>Total de Cordas </small>
                                            <div class="stat-percent">34,2% <i class="fa fa-level-up text-primary"></i></div>
                                            <div class="progress progress-mini">
                                                <div style="width: 34.2%;" class="progress-bar"></div>
                                            </div>
                                        </li>
                                        <li class="mb-4">
                                            <h2 class="m-0 fw-light">390</h2>
                                            <small>Total de Metais</small>
                                            <div class="stat-percent">24,5% <i class="fa fa-level-up text-primary"></i></div>
                                            <div class="progress progress-mini">
                                                <div style="width: 24.5%;" class="progress-bar"></div>
                                            </div>
                                        </li>
                                        <li>
                                            <h2 class="m-0 fw-light">657</h2>
                                            <small>Total de Madeiras</small>
                                            <div class="stat-percent">41,3% <i class="fa fa-level-up text-primary"></i></div>
                                            <div class="progress progress-mini">
                                                <div style="width: 41.3%;" class="progress-bar"></div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>               

            <div class="wrapper wrapper-content">
                <div class="row"> 
                    <div class="col-xl-3 col-lg-6">
                    <div class="ibox">
                        <div class="ibox-title">
                            <div class="ibox-tools">
                                <span class="label label-success float-end">SAC: 65</span>
                            </div>
                            <h5>Igrejas em Construção</h5>
                        </div> 
                        <div class="ibox-content">
                            <h1 class="mt-0 fw-light mb-1">{{ total_musicos }}</h1>
                            <div class="stat-percent font-bold text-success">{{ perc_musicos }}% <i class="fa fa-level-up"></i></div>
                            <small>Total de Igrejas</small>
                        </div>                      
                    </div>
                </div>
                <div class="col-xl-3 col-lg-6">
                    <div class="ibox">
                        <div class="ibox-title">
                            <div class="ibox-tools">
                                <span class="label label-info float-end">Caixa: R$ 127.000,00</span>
                            </div>
                            <h5>Despesas Gerais</h5>
                        </div>
                        <div class="ibox-content">
                            <h1 class="mt-0 fw-light mb-1">{{ total_organistas }}</h1>
                            <div class="stat-percent font-bold text-info">{{ perc_organistas }}% <i class="fa fa-level-up"></i></div>
                            <small>Total de Despesas</small>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-6">
                    <div class="ibox">
                        <div class="ibox-title">
                            <div class="ibox-tools">
                                <span class="label label-primary float-end">Coletas: R$ 345.000,00</span>
                            </div>
                            <h5>Obra da Piedade</h5>
                        </div>
                            <div class="ibox-content">
                            <h1 class="mt-0 fw-light mb-1">{{ total_encarregados }}</h1>
                            <div class="stat-percent font-bold text-info">{{ perc_encarregados }}% <i class="fa fa-users"></i></div>
                            <small>Total de Coleta</small>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-6">
                    <div class="ibox">
                        <div class="ibox-title">
                            <div class="ibox-tools">
                                <span class="label label-danger float-end">Números Gerais</span>
                            </div>
                            <h5>Batizados</h5>
                        </div>
                        <div class="ibox-content">
                            <h1 class="mt-0 fw-light mb-1">{{ total_encarregados_outros }}</h1>
                            <div class="stat-percent font-bold text-danger">-7% <i class="fa fa-level-down"></i></div>
                            <small>Total de Batizados</small>
                        </div>
                    </div>
                </div>
            </div>
            

            <div class="row">
                    <div class="col-lg-4">
                        <div class="ibox">                           
                            <div class="ibox-title">
                                <h5>Administração Geral</h5> <span class="label label-primary">SAC+</span>
                                <div class="ibox-tools">
                                    <a class="collapse-link" href="">
                                        <i class="fa fa-chevron-up"></i>
                                    </a>
                                    <a class="close-link" href="">
                                        <i class="fa fa-times"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="ibox-content">
                                <div>
                                    <div class="float-end text-end">

                                        <span class="bar_dashboard">5,3,9,6,5,9,7,3,5,2,4,7,3,2,7,9,6,4,5,7,3,2,1,0,9,5,6,8,3,2,1</span>
                                        <br />
                                        <small class="font-bold">2021 Alunos</small>
                                    </div>
                                    <h4>Alunos Cadastrados no SAM </h4>
                                    <span class="me-2"><a href="{{ url_for ('alunos.alunos') }}"> Clique aqui para conferir </a> </span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                                <div class="col-lg-12">
                                    <div class="ibox">
                                        <div class="ibox-title">
                                            <h5>Evolução de Cadastros Anuais</h5>
                                            <div class="ibox-tools">
                                                <a class="collapse-link">
                                                    <i class="fa fa-chevron-up"></i>
                                                </a>
                                                <a class="close-link">
                                                    <i class="fa fa-times"></i>
                                                </a>
                                            </div>
                                        </div>
                                        <div class="ibox-content">
                                            <canvas id="barChart" height="300"></canvas>
                                        </div>
                                    </div>
                                </div>


                            
                        </div>
                    </div>

               
             
                    <div class="col-lg-8">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="ibox ">
                                    <div class="ibox-title">
                                        <h5>Total de Músicos por Nível</h5>
                                        <div class="ibox-tools">
                                            <a class="collapse-link">
                                                <i class="fa fa-chevron-up"></i>
                                            </a>
                                            <a class="close-link">
                                                <i class="fa fa-times"></i>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="ibox-content table-responsive">
                                        <table class="table table-hover no-margins">
                                            <thead>
                                            <tr>
                                                <th>Status</th>
                                                <th>Quantidade</th>
                                                <th>Candidatos</th>
                                                <th>Valor</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td><small>OFICIALIZADO  (A)</small></td>
                                                <td><i class="fa-regular fa-user"></i> 1192</td>
                                                <td><i class="fa-regular fa-user"></i> 132</td>
                                                <td class="text-primary"> <i class="fa fa-level-up"></i> 11% </td>
                                            </tr>
                                            <tr>
                                                <td><small>CULTO OFICIAL</small></td>
                                                <td><i class="fa-regular fa-user"></i> 132</td>
                                                <td><i class="fa-regular fa-user"></i> 15</td>
                                                <td class="text-primary"> <i class="fa fa-level-up"></i> 12% </td>
                                            </tr>
                                            <tr>
                                                <td><small>CANDIDATO (A)</small></td>
                                                <td><i class="fa-regular fa-user"></i> 751</td>
                                                <td><i class="fa-regular fa-user"></i> 127</td>
                                                <td class="text-primary"> <i class="fa fa-level-up"></i> 17% </td>                                                
                                            </tr>
                                            <tr>
                                                <td><small>RJM</small></td>
                                                <td><i class="fa-regular fa-user"></i> 123</td>
                                                <td><i class="fa-regular fa-user"></i> 12</td>
                                                <td class="text-primary"> <i class="fa fa-level-up"></i> 10% </td>
                                            </tr>
                                            <tr>
                                                <td><small>ENSAIO</small></td>
                                                <td><i class="fa-regular fa-user"></i> 38</td>
                                                <td><i class="fa-regular fa-user"></i> 7</td>
                                                <td class="text-primary"> <i class="fa fa-level-up"></i> 18% </td>
                                            </tr>                                            
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="ibox ">
                                    <div class="ibox-title">
                                        <h5>Total de Organistas por Nível</h5>
                                        <div class="ibox-tools">
                                            <a class="collapse-link">
                                                <i class="fa fa-chevron-up"></i>
                                            </a>
                                            <a class="close-link">
                                                <i class="fa fa-times"></i>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="ibox-content table-responsive">
                                        <table class="table table-hover no-margins">
                                            <thead>
                                            <tr>
                                                <th>Status</th>
                                                <th>Quantidade</th>
                                                <th>Candidatos</th>
                                                <th>Valor</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td><small>OFICIALIZADO  (A)</small></td>
                                                <td><i class="fa-regular fa-user"></i> 361</td>
                                                <td><i class="fa-regular fa-user"></i> 27</td>
                                                <td class="text-primary"> <i class="fa fa-level-up"></i> 8% </td>
                                            </tr>
                                            <tr>
                                                <td><small>CULTO OFICIAL</small></td>
                                                <td><i class="fa-regular fa-user"></i> 33</td>
                                                <td><i class="fa-regular fa-user"></i> 7</td>
                                                <td class="text-primary"> <i class="fa fa-level-up"></i> 21% </td>
                                            </tr>
                                            <tr>
                                                <td><small>CANDIDATO (A)</small></td>
                                                <td><i class="fa-regular fa-user"></i> 46</td>
                                                <td><i class="fa-regular fa-user"></i> 7</td>
                                                <td class="text-primary"> <i class="fa fa-level-up"></i> 15% </td>
                                            </tr>
                                            <tr>
                                                <td><small>RJM</small></td>
                                                <td><i class="fa-regular fa-user"></i> 61</td>
                                                <td><i class="fa-regular fa-user"></i> 12</td>
                                                <td class="text-primary"> <i class="fa fa-level-up"></i> 20% </td>
                                            </tr>
                                            <tr>
                                                <td><small>ENSAIO</small></td>
                                                <td><i class="fa-regular fa-user"></i> 5</td>
                                                <td><i class="fa-regular fa-user"></i> 1</td>
                                                <td class="text-primary"> <i class="fa fa-level-up"></i> 20% </td>
                                            </tr>                                            
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="ibox ">
                                    <div class="ibox-title">
                                        <h5>Cadastros Mundiais SAM</h5>
                                        <div class="ibox-tools">
                                            <a class="collapse-link">
                                                <i class="fa fa-chevron-up"></i>
                                            </a>
                                            <a class="close-link">
                                                <i class="fa fa-times"></i>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="ibox-content">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <div class="ibox">                                                        
                                                        <div class="ibox-content">
                                                            <div class="row">
                                                                <div class="col-lg-6">
                                                                    <table class="table table-hover margin bottom">
                                                                        <thead>
                                                                            <tr>
                                                                                <th style="width: 1%" class="text-center">País</th>
                                                                                <th>Descrição</th>
                                                                                <th class="text-center">Data</th>
                                                                                <th class="text-center">Quantidade</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr>
                                                                                <td class="text-center"><span class="fi fi-br"></span></td>
                                                                                <td>BRASIL</td>
                                                                                <td class="text-center small">15 Jun 2017</td>
                                                                                <td class="text-center"><span class="label label-primary">15.700</span></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="text-center"><span class="fi fi-us"></span></td>
                                                                                <td>ESTADOS UNIDOS</td>
                                                                                <td class="text-center small">10 Jun 2018</td>
                                                                                <td class="text-center"><span class="label label-primary">7.500</span></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="text-center"><span class="fi fi-pt"></span></td>
                                                                                <td>PORTUGAL</td>
                                                                                <td class="text-center small">12 Jun 2020</td>
                                                                                <td class="text-center"><span class="label label-warning">4.257</span></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="text-center"><span class="fi fi-es"></span></td>
                                                                                <td>ESPANHA</td>
                                                                                <td class="text-center small">22 Jun 2021</td>
                                                                                <td class="text-center"><span class="label label-primary">1.525</span></td>
                                                                            </tr>                                                                            
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="col-lg-6">
                                                                    <div id="usa_map" style="position: relative; width: 100%; max-width: 400px; height: 300px; margin: 0 auto; background: #fff;"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {% include 'footer.html' %}

        </div>
    </div>

    <!-- Toast notification -->
    <div class="toast toast toast-bootstrap hide" role="alert" aria-live="assertive" aria-atomic="true" style="position: absolute; top:20px; right:20px">
        <div class="toast-header">
            <i class="fa fa-square text-primary me-2"> </i>
            <strong class="me-auto">Notificações</strong>
            <small>1 min atrás</small>
            <button type="button" class="ml-2 mb-1 btn-close" data-bs-dismiss="toast" aria-label="Close">

            </button>
        </div>
        <div class="toast-body">
            Bem-vindo ao <strong>SAC</strong> - Sistema de Administração de Cotia.
        </div>
    </div>

        <div id="right-sidebar">
            <div class="sidebar-container">

                <ul class="nav nav-tabs navs-3">
                    <li>
                        <a class="nav-link active" data-toggle="tab" href="#tab-1"> Notes </a>
                    </li>
                    <li>
                        <a class="nav-link" data-toggle="tab" href="#tab-2"> Projects </a>
                    </li>
                    <li>
                        <a class="nav-link" data-toggle="tab" href="#tab-3"> <i class="fa fa-gear"></i> </a>
                    </li>
                </ul>

                <div class="tab-content">


                    <div id="tab-1" class="tab-pane active">

                        <div class="sidebar-title">
                            <h3> <i class="fa fa-comments-o"></i> Latest Notes</h3>
                            <small><i class="fa fa-tim"></i> You have 10 new message.</small>
                        </div>

                        <div>

                            <div class="sidebar-message">
                                <a href="#">
                                    <div class="float-left text-center">
                                        <img alt="image" class="rounded-circle message-avatar" src="static\img/a1.jpg">

                                        <div class="m-t-xs">
                                            <i class="fa fa-star text-warning"></i>
                                            <i class="fa fa-star text-warning"></i>
                                        </div>
                                    </div>
                                    <div class="media-body">

                                        There are many variations of passages of Lorem Ipsum available.
                                        <br>
                                        <small class="text-muted">Today 4:21 pm</small>
                                    </div>
                                </a>
                            </div>
                            <div class="sidebar-message">
                                <a href="#">
                                    <div class="float-left text-center">
                                        <img alt="image" class="rounded-circle message-avatar" src="static\img/a2.jpg">
                                    </div>
                                    <div class="media-body">
                                        The point of using Lorem Ipsum is that it has a more-or-less normal.
                                        <br>
                                        <small class="text-muted">Yesterday 2:45 pm</small>
                                    </div>
                                </a>
                            </div>
                            <div class="sidebar-message">
                                <a href="#">
                                    <div class="float-left text-center">
                                        <img alt="image" class="rounded-circle message-avatar" src="static\img/a3.jpg">

                                        <div class="m-t-xs">
                                            <i class="fa fa-star text-warning"></i>
                                            <i class="fa fa-star text-warning"></i>
                                            <i class="fa fa-star text-warning"></i>
                                        </div>
                                    </div>
                                    <div class="media-body">
                                        Mevolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).
                                        <br>
                                        <small class="text-muted">Yesterday 1:10 pm</small>
                                    </div>
                                </a>
                            </div>
                            <div class="sidebar-message">
                                <a href="#">
                                    <div class="float-left text-center">
                                        <img alt="image" class="rounded-circle message-avatar" src="img/a4.jpg">
                                    </div>

                                    <div class="media-body">
                                        Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the
                                        <br>
                                        <small class="text-muted">Monday 8:37 pm</small>
                                    </div>
                                </a>
                            </div>
                            <div class="sidebar-message">
                                <a href="#">
                                    <div class="float-left text-center">
                                        <img alt="image" class="rounded-circle message-avatar" src="img/a8.jpg">
                                    </div>
                                    <div class="media-body">

                                        All the Lorem Ipsum generators on the Internet tend to repeat.
                                        <br>
                                        <small class="text-muted">Today 4:21 pm</small>
                                    </div>
                                </a>
                            </div>
                            <div class="sidebar-message">
                                <a href="#">
                                    <div class="float-left text-center">
                                        <img alt="image" class="rounded-circle message-avatar" src="img/a7.jpg">
                                    </div>
                                    <div class="media-body">
                                        Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section 1.10.32.
                                        <br>
                                        <small class="text-muted">Yesterday 2:45 pm</small>
                                    </div>
                                </a>
                            </div>
                            <div class="sidebar-message">
                                <a href="#">
                                    <div class="float-left text-center">
                                        <img alt="image" class="rounded-circle message-avatar" src="static\img/a3.jpg">

                                        <div class="m-t-xs">
                                            <i class="fa fa-star text-warning"></i>
                                            <i class="fa fa-star text-warning"></i>
                                            <i class="fa fa-star text-warning"></i>
                                        </div>
                                    </div>
                                    <div class="media-body">
                                        The standard chunk of Lorem Ipsum used since the 1500s is reproduced below.
                                        <br>
                                        <small class="text-muted">Yesterday 1:10 pm</small>
                                    </div>
                                </a>
                            </div>
                            <div class="sidebar-message">
                                <a href="#">
                                    <div class="float-left text-center">
                                        <img alt="image" class="rounded-circle message-avatar" src="static\img/a4.jpg">
                                    </div>
                                    <div class="media-body">
                                        Uncover many web sites still in their infancy. Various versions have.
                                        <br>
                                        <small class="text-muted">Monday 8:37 pm</small>
                                    </div>
                                </a>
                            </div>
                        </div>

                    </div>

                    <div id="tab-2" class="tab-pane">

                        <div class="sidebar-title">
                            <h3> <i class="fa fa-cube"></i> Latest projects</h3>
                            <small><i class="fa fa-tim"></i> You have 14 projects. 10 not completed.</small>
                        </div>

                        <ul class="sidebar-list">
                            <li>
                                <a href="#">
                                    <div class="small float-right m-t-xs">9 hours ago</div>
                                    <h4>Business valuation</h4>
                                    It is a long established fact that a reader will be distracted.

                                    <div class="small">Completion with: 22%</div>
                                    <div class="progress progress-mini">
                                        <div style="width: 22%;" class="progress-bar progress-bar-warning"></div>
                                    </div>
                                    <div class="small text-muted m-t-xs">Project end: 4:00 pm - 12.06.2014</div>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <div class="small float-right m-t-xs">9 hours ago</div>
                                    <h4>Contract with Company </h4>
                                    Many desktop publishing packages and web page editors.

                                    <div class="small">Completion with: 48%</div>
                                    <div class="progress progress-mini">
                                        <div style="width: 48%;" class="progress-bar"></div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <div class="small float-right m-t-xs">9 hours ago</div>
                                    <h4>Meeting</h4>
                                    By the readable content of a page when looking at its layout.

                                    <div class="small">Completion with: 14%</div>
                                    <div class="progress progress-mini">
                                        <div style="width: 14%;" class="progress-bar progress-bar-info"></div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="label label-primary float-right">NEW</span>
                                    <h4>The generated</h4>
                                    <!--<div class="small float-right m-t-xs">9 hours ago</div>-->
                                    There are many variations of passages of Lorem Ipsum available.
                                    <div class="small">Completion with: 22%</div>
                                    <div class="small text-muted m-t-xs">Project end: 4:00 pm - 12.06.2014</div>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <div class="small float-right m-t-xs">9 hours ago</div>
                                    <h4>Business valuation</h4>
                                    It is a long established fact that a reader will be distracted.

                                    <div class="small">Completion with: 22%</div>
                                    <div class="progress progress-mini">
                                        <div style="width: 22%;" class="progress-bar progress-bar-warning"></div>
                                    </div>
                                    <div class="small text-muted m-t-xs">Project end: 4:00 pm - 12.06.2014</div>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <div class="small float-right m-t-xs">9 hours ago</div>
                                    <h4>Contract with Company </h4>
                                    Many desktop publishing packages and web page editors.

                                    <div class="small">Completion with: 48%</div>
                                    <div class="progress progress-mini">
                                        <div style="width: 48%;" class="progress-bar"></div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <div class="small float-right m-t-xs">9 hours ago</div>
                                    <h4>Meeting</h4>
                                    By the readable content of a page when looking at its layout.

                                    <div class="small">Completion with: 14%</div>
                                    <div class="progress progress-mini">
                                        <div style="width: 14%;" class="progress-bar progress-bar-info"></div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="label label-primary float-right">NEW</span>
                                    <h4>The generated</h4>
                                    <!--<div class="small float-right m-t-xs">9 hours ago</div>-->
                                    There are many variations of passages of Lorem Ipsum available.
                                    <div class="small">Completion with: 22%</div>
                                    <div class="small text-muted m-t-xs">Project end: 4:00 pm - 12.06.2014</div>
                                </a>
                            </li>

                        </ul>

                    </div>

                    <div id="tab-3" class="tab-pane">

                        <div class="sidebar-title">
                            <h3><i class="fa fa-gears"></i> Settings</h3>
                            <small><i class="fa fa-tim"></i> You have 14 projects. 10 not completed.</small>
                        </div>

                        <div class="setings-item">
                    <span>
                        Show notifications
                    </span>
                            <div class="switch">
                                <div class="onoffswitch">
                                    <input type="checkbox" name="collapsemenu" class="onoffswitch-checkbox" id="example">
                                    <label class="onoffswitch-label" for="example">
                                        <span class="onoffswitch-inner"></span>
                                        <span class="onoffswitch-switch"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="setings-item">
                    <span>
                        Disable Chat
                    </span>
                            <div class="switch">
                                <div class="onoffswitch">
                                    <input type="checkbox" name="collapsemenu" checked class="onoffswitch-checkbox" id="example2">
                                    <label class="onoffswitch-label" for="example2">
                                        <span class="onoffswitch-inner"></span>
                                        <span class="onoffswitch-switch"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="setings-item">
                    <span>
                        Enable history
                    </span>
                            <div class="switch">
                                <div class="onoffswitch">
                                    <input type="checkbox" name="collapsemenu" class="onoffswitch-checkbox" id="example3">
                                    <label class="onoffswitch-label" for="example3">
                                        <span class="onoffswitch-inner"></span>
                                        <span class="onoffswitch-switch"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="setings-item">
                    <span>
                        Show charts
                    </span>
                            <div class="switch">
                                <div class="onoffswitch">
                                    <input type="checkbox" name="collapsemenu" class="onoffswitch-checkbox" id="example4">
                                    <label class="onoffswitch-label" for="example4">
                                        <span class="onoffswitch-inner"></span>
                                        <span class="onoffswitch-switch"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="setings-item">
                    <span>
                        Offline users
                    </span>
                            <div class="switch">
                                <div class="onoffswitch">
                                    <input type="checkbox" checked name="collapsemenu" class="onoffswitch-checkbox" id="example5">
                                    <label class="onoffswitch-label" for="example5">
                                        <span class="onoffswitch-inner"></span>
                                        <span class="onoffswitch-switch"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="setings-item">
                    <span>
                        Global search
                    </span>
                            <div class="switch">
                                <div class="onoffswitch">
                                    <input type="checkbox" checked name="collapsemenu" class="onoffswitch-checkbox" id="example6">
                                    <label class="onoffswitch-label" for="example6">
                                        <span class="onoffswitch-inner"></span>
                                        <span class="onoffswitch-switch"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="setings-item">
                    <span>
                        Update everyday
                    </span>
                            <div class="switch">
                                <div class="onoffswitch">
                                    <input type="checkbox" name="collapsemenu" class="onoffswitch-checkbox" id="example7">
                                    <label class="onoffswitch-label" for="example7">
                                        <span class="onoffswitch-inner"></span>
                                        <span class="onoffswitch-switch"></span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="sidebar-content">
                            <h4>Settings</h4>
                            <div class="small">
                                I belive that. Lorem Ipsum is simply dummy text of the printing and typesetting industry.
                                And typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.
                                Over the years, sometimes by accident, sometimes on purpose (injected humour and the like).
                            </div>
                        </div>

                    </div>
                </div>

            </div>



        </div>
    </div>

        <!-- Mainly Plugin Scripts -->
        <script src="{{ url_for('static', filename='plugins/jquery/js/jquery.min.js') }}"></script>
        <script src="{{ url_for('static', filename='plugins/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
        <script src="{{ url_for('static', filename='plugins/metismenu/js/metisMenu.min.js') }}"></script>
        <script src="{{ url_for('static', filename='plugins/pace-js/js/pace.min.js') }}"></script>
        <script src="{{ url_for('static', filename='plugins/wow.js/js/wow.min.js') }}"></script>
        <script src="{{ url_for('static', filename='plugins/lucide/js/lucide.min.js') }}"></script>
        <script src="{{ url_for('static', filename='plugins/simplebar/js/simplebar.min.js') }}"></script>

        <!-- Custom and Plugin Javascript -->
        <script src="{{ url_for('static', filename='js/inspinia.js') }}"></script>

        <!-- Flot -->
        <script src="{{ url_for('static', filename='plugins/flot/js/jquery.flot.js') }}"></script>
        <script src="{{ url_for('static', filename='plugins/jquery-flot-tooltip/js/jquery.flot.tooltip.min.js') }}"></script>
        <script src="{{ url_for('static', filename='plugins/flot-spline/js/jquery.flot.spline.js') }}"></script>
        <script src="{{ url_for('static', filename='plugins/jquery-flot-resize/js/index.js') }}"></script>

        <!-- Peity -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/peity/3.3.0/jquery.peity.min.js"></script>

        <!-- Peity Chart Demo js -->
        <script src="{{ url_for('static', filename='js/demo/peity-demo.js') }}"></script>

        <!-- jQuery UI -->
        <script src="{{ url_for('static', filename='plugins/jquery-ui/js/jquery-ui.min.js') }}"></script>

        <!-- GITTER -->
        <script src="{{ url_for('static', filename='plugins/gritter/js/jquery.gritter.js') }}"></script>

        <!-- Sparkline -->
        <script src="{{ url_for('static', filename='plugins/jquery-sparkline/js/jquery.sparkline.min.js') }}"></script>

        <!-- Sparkline demo data  -->
        <script src="{{ url_for('static', filename='js/demo/sparkline-demo.js') }}"></script>

        <!-- ChartJS-->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

        <!-- Toastr -->
        <script src="{{ url_for('static', filename='plugins/toastr/js/toastr.min.js') }}"></script>

        <!-- Dashboard 1 Demo js -->
        <script src="{{ url_for('static', filename='js/pages/dashboard_1.js') }}"></script>

        <!-- Plotly.js -->
        <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>

        <!-- Flag Icons -->
        <link href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@6.6.6/css/flag-icons.min.css" rel="stylesheet">

        <!-- JVectorMap -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/jvectormap/2.0.5/jquery-jvectormap.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jvectormap/2.0.5/jquery-jvectormap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jvectormap/2.0.5/jquery-jvectormap-world-mill.js"></script>

        <!-- Dashboard 2 Demo js -->
        <script src="{{ url_for('static', filename='js/pages/dashboard_2.js') }}"></script>

        <!-- Scripts dos gráficos -->
        <script>
            $(document).ready(function () {
                var data1 = [
                    [1, 5], [2, 8], [3, 12], [4, 14], [5, 10], [6, 15], [7, 18],
                    [8, 20], [9, 22], [14, 35]
                ];
        
                var data2 = [
                    [1, 3], [2, 5], [3, 9], [4, 10], [5, 6], [6, 11], [7, 13],
                    [8, 15], [9, 17],  [14, 30] 
                ];
        
                var dataset = [
                    {
                        label: "Músicos",
                        data: data1,
                        lines: { show: true, fill: true },
                        points: { show: true },
                        color: "#1ab394"
                    },
                    {
                        label: "Organistas",
                        data: data2,
                        lines: { show: true },
                        points: { show: true },
                        color: "#1C84C6"
                    }
                ];
        
                var options = {
                    xaxis: {
                        tickDecimals: 0,
                        tickFormatter: function (val) {
                            return "Dia " + val;
                        }
                    },
                    yaxis: {
                        min: 0
                    },
                    grid: {
                        hoverable: true,
                        clickable: true
                    },
                    legend: {
                        position: "ne"
                    },
                    tooltip: true,
                    tooltipOpts: {
                        content: "%s em %x: %y",
                        shifts: {
                            x: 20,
                            y: 0
                        },
                        defaultTheme: false
                    }
                };
        
                $.plot($("#flot-dashboard-chart"), dataset, options);
            });
        </script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/datamaps/0.5.9/datamaps.world.min.js"></script>
        <script>
            var brasil_map = new Datamap({
                element: document.getElementById("usa_map"),
                responsive: true,
                scope: 'world',
                fills: {
                    defaultFill: "#DBDAD6",
                    BR: "#1C977A"
                },
                geographyConfig: {
                    highlightFillColor: '#1C977A',
                    highlightBorderWidth: 0,
                    popupOnHover: true,
                    popupTemplate: function(geo, data) {
                        return '<div class="hoverinfo"><strong>' + geo.properties.name + '</strong></div>';
                    }
                },
                data: {
                    BR: { fillKey: "BR" }
                },
                setProjection: function(element) {
                    var projection = d3.geo.equirectangular()
                        .center([-55, -15]) // Centraliza no Brasil
                        .scale(400)         // Diminui o zoom
                        .translate([element.offsetWidth / 2, element.offsetHeight / 2]);
                    var path = d3.geo.path().projection(projection);
                    return { path: path, projection: projection };
                }
            });
            window.addEventListener('resize', function() {
                brasil_map.resize();
            });
        </script>

        <script>
            $(document).ready(function() {
                // Configuração do gráfico de barras
                var ctx = document.getElementById('barChart').getContext('2d');
                var barChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Cordas', 'Madeiras', 'Metais'],
                        datasets: [
                            {
                                label: 'Ideal',
                                data: [50, 25, 25],
                                backgroundColor: '#1ab394',
                                borderColor: '#1ab394',
                                borderWidth: 1
                            },
                            {
                                label: 'Atual',
                                data: [29.70, 43.30, 27.10],
                                backgroundColor: '#1C84C6',
                                borderColor: '#1C84C6',
                                borderWidth: 1
                            }
                        ]
                    },
                    options: {
                        indexAxis: 'x',
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                title: {
                                    display: true,
                                    text: 'Categorias'
                                }
                            },
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Quantidade (%)'
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            },
                            title: {
                                display: true,
                                text: 'Evolução de Cadastros Anuais',
                                padding: {
                                    top: 10,
                                    bottom: 30
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return context.dataset.label + ': ' + context.raw + '%';
                                    }
                                }
                            }
                        }
                    }
                });
            });
        </script>

        <script>
            $(document).ready(function() {
                // Carrega os dados do gráfico via AJAX
                function loadChartData() {
                    $.ajax({
                        url: "{{ url_for('dashboard.get_chart_data') }}",
                        type: "GET",
                        success: function(response) {
                            if (response.error) {
                                console.error(response.error);
                                return;
                            }
                            Plotly.newPlot('plotly-chart', response.data, response.layout, {responsive: true});
                        },
                        error: function(xhr, status, error) {
                            console.error("Erro ao carregar dados do gráfico:", error);
                        }
                    });
                }

                // Carrega inicialmente e a cada 5 minutos
                loadChartData();
                setInterval(loadChartData, 300000);
            });
        </script>

        <script>
            function setTheme(theme) {
                if (theme === 'dark') {
                    document.documentElement.setAttribute('data-bs-theme', 'dark');
                    document.getElementById('icon-dark').style.display = 'none';
                    document.getElementById('icon-light').style.display = '';
                } else {
                    document.documentElement.setAttribute('data-bs-theme', 'light');
                    document.getElementById('icon-dark').style.display = '';
                    document.getElementById('icon-light').style.display = 'none';
                }
                localStorage.setItem('theme', theme);
            }

            document.addEventListener('DOMContentLoaded', function() {
                const savedTheme = localStorage.getItem('theme') || 'light';
                setTheme(savedTheme);
                document.getElementById('theme-toggle').addEventListener('click', function(e) {
                    e.preventDefault();
                    const currentTheme = document.documentElement.getAttribute('data-bs-theme') === 'dark' ? 'dark' : 'light';
                    setTheme(currentTheme === 'dark' ? 'light' : 'dark');
                });
            });
        </script>

        <script>
            $(document).ready(function() {
                // Log para depuração
                console.log("Peity disponível?", typeof $.fn.peity !== "undefined");
                console.log("Elementos encontrados:", $(".bar_dashboard").length);

                // Inicializa o Peity para todos os elementos com a classe bar_dashboard
                if ($.fn.peity && $(".bar_dashboard").length > 0) {
                    $(".bar_dashboard").peity("bar", {
                        fill: ["#1ab394"],
                        width: 100,
                        height: 30
                    });
                    console.log("Peity inicializado!");
                } else {
                    console.error("Peity não inicializado. Verifique se o plugin está carregado e se o seletor encontra elementos.");
                }
            });
        </script>

        <script>
            $(document).ready(function() {
                $('.navbar-minimalize').on('click', function (e) {
                    e.preventDefault();
                    $('body').toggleClass('mini-navbar');
                    if (typeof SmoothlyMenu === 'function') {
                        SmoothlyMenu();
                    }
                });
            });
        </script>


  </body>
</html>